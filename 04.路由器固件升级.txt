cpu芯片厂商使用的bootloader:

    cfe:
        市场占20-30%
        BroadCom博通:

    uboot:
        市场占70-80%
        
        (QualCom收购Atheros)qca高通的uboot分为:
            kernel
            rootfs(root file system)
            官方手册提示:需要单独使用tftp去升级

        mtk联发科的uboot比较简单
            kernel和rootfs合并为单独的一个打包好的bin文件即可







1.通过web上传方式固件升级
    web方式上传固件
    电脑链接路由器，要使用网线，因为固件需要上传，保证网络质量使用有线连接
    登录原始路由系统，选择固件，升级即可

    openwrt和原厂固件互刷
    https://www.youtube.com/watch?v=A2xbZgCe7JY

    openwrt刷回原厂固件
    https://www.youtube.com/watch?v=vxVzJz2KcRc






2.通过(bootloader)uboot方式升级固件

如何升级?
    1.路由器主板上焊接TTL引脚(排针)
        杜邦头/杜邦线
        准备usb-TTl数据线一条(5-20元)(pl2303)
        买回来的线要把vcc减掉(红色的),否则会烧usb

    2.安装串口,tftpd工具:
        ubuntu下使用minicom,tftpd-hpa
        win下使用putty,tftpd32/64

    3.虚拟机设置
        虚拟机usb共享
        调整细腻及的网卡设置,增加网卡然后设置为桥接



3.编程器写入固件    













变砖:
    固件损坏,不能启动
修砖:
    此时需要使用bootloader(uboot/cfe)去升级



 

救砖:


对flash进行重新读写(把系统刷入flash)


1.接通电源可以点亮，但是无法正常启动系统
    https://www.youtube.com/watch?v=DvouDDs3YTg
    https://www.youtube.com/results?search_query=openwrt+ttl
    可以不拆flash(如果拆也可以，见方法2)
    ttl线+ftp刷flash
    usb转ttl/usb转串口/ttl线

2.完全变砖,接通电源没反应,系统不启动

    使用编程器写入固件
    1.1 拆flash
        https://www.youtube.com/watch?v=1utZ6CqaLpk
        https://www.youtube.com/watch?v=L1Qh4Bk_vNg
        https://www.youtube.com/watch?v=ams9-TV0r6I
        除锡的时候可以使用清锡带
        把路由器上的闪存拆下来
        然后焊接到编程器的板子上
        接着通过编程器把固件写到闪存上
        最后再把闪存焊接到路由器上
    或者
        不拆flash,买个夹子连接flash和编程器
        然后通过编程器把固件写到闪存上







其他的方式:
https://www.youtube.com/watch?v=54N2PCulJ5E
路由器主板短路
usb_burning_tool工具烧录